<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>MinGfx Toolkit: Programming Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MinGfx Toolkit
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A minimal library for writing cross-platform (Windows, OSX, linux) graphics programs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Programming Reference </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="reference"></a>
Programming Reference</h1>
<table class="doxtable">
<tr>
<th>Application Class  </th></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_graphics_app.html">GraphicsApp</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th>3D Models  </th></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_quick_shapes.html">QuickShapes</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_mesh.html">Mesh</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Color and Textures  </th></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_color.html">Color</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_texture2_d.html">Texture2D</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Graphics Math  </th></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_point2.html">Point2</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_point3.html">Point3</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_vector2.html">Vector2</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_vector3.html">Vector3</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_ray.html">Ray</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_gfx_math.html">GfxMath</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th>Shader Programs  </th></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_default_shader.html">DefaultShader</a> </td></tr>
<tr>
<td>- <a class="el" href="classmingfx_1_1_default_shader_1_1_light_properties.html">DefaultShader::LightProperties</a> </td></tr>
<tr>
<td>- <a class="el" href="classmingfx_1_1_default_shader_1_1_material_properties.html">DefaultShader::MaterialProperties</a> </td></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_shader_program.html">ShaderProgram</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th>User Interface  </th></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_uni_cam.html">UniCam</a> </td></tr>
</table>
<table class="doxtable">
<tr>
<th>File I/O and System Routines  </th></tr>
<tr>
<td><a class="el" href="classmingfx_1_1_platform.html">Platform</a> </td></tr>
</table>
<h2><a class="anchor" id="style"></a>
Coding Style</h2>
<p>The library follows the <a href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a>, in part as an example for students, since this style is also used in several courses. There are several things that programmers who are not familiar with the Google style might find unusual. These are the most common style rules to note:</p><ul>
<li>C++ source filenames are all lowercase with underscores, and a .cc extension is used instead of .cpp.</li>
<li>Variable names are all lowercase with underscores.</li>
<li>Class member variables are named the same as regular variables but with a trailing _, as in my_member_var_.</li>
<li>Functions start with capital letters unless they are small getter or setter methods.</li>
<li>There are many other rules, a solid discussion of pros/cons, and an automated style checker <a href="https://google.github.io/styleguide/cppguide.html">here</a>.</li>
</ul>
<h2><a class="anchor" id="install-prereqs"></a>
Prereqs</h2>
<p>MinGfx is built using the cross-platform CMake tool. Before building MinGfx, you will need to install CMake version 3.9 or higher (<a href="https://cmake.org/">https://cmake.org/</a>).</p>
<p>If you haven't already, you'll want to clone the MinGfx source code using git, so make sure you have git installed as well.</p>
<h2><a class="anchor" id="cmake-background"></a>
Background for CMake Beginners</h2>
<p>If you are new to CMake, this is the minimum background you should have before building MinGfx.</p>
<p>CMake is a cross-platform tool for generating native Unix Makefiles and project workspaces (e.g., Xcode projects, Visual Studio solutions) for building projects. Projects use CMakeLists.txt files to describe how they should be built. These files provide input for the cmake application, which uses them to generate project files for a variety of development environments. CMake can generate Makefiles for building MinGfx on linux systems or project files for building MinGfx with popular IDEs (e.g., XCode, Visual Studio, Eclipse, CodeBLocks).</p>
<p>There are three versions of the cmake application that are provided with the install from Kitware. You can use any of these with MinGfx:</p><ol type="1">
<li><em>cmake</em> is the command line version where all build options must be specified on the command line.</li>
<li><em>ccmake</em> is a visual interface that runs in a terminal. This is nice because all of the available build options are listed for you to see at once, and you can simply press the SPACEBAR to turn them on/off or type in specific values. The downside for ccmake is that it does not have a separate log window, so status messages flash by so fast that you cannot read them, and input from spin-off cmake processes (like those used in the MinGfx configure step) are not captured correctly. It's possible to still use ccmake with MinGfx, but we do not recommend it.</li>
<li><em>cmake-gui</em> is an OS-specific windowed version. Like ccmake, the GUI provides a useful list all of the available build options. Unlike ccmake, it also includes a nice scrollable log of all of the status messages. So, this is the preferred version for new users and for the first time you build a project.</li>
</ol>
<p>With CMake, it's best to do an out-of-source build. That means that when you start CMake you must tell it two paths: 1. the path to the MinGfx source tree, AND 2. the path to the place where you would like all the built files to be created. When running cmake-gui, these can be set interactively with a file selection dialog, but all three versions respond to command line options, and this is generally the easiest way to start up cmake. So, we suggest starting <em>cmake-gui</em> from the command line. First cd to the directory you wish to use for the built files, then pass a single required command line argument for the path to the MinGfx source tree. Usually, you will see this written as a series of 3 steps &ndash; the common idiom for cmake builds: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// from within the root of the project&#39;s source directory</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mkdir build</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cd build</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;cmake-gui ..</div>
</div><!-- fragment --><p>If you are using <em>cmake</em> you can pass a variety of other options to CMake on the command line with flags such as -D AUTOBUILD_NANOGUI=ON, to tell MinGfx to autobuild the nanogui library that it depends upon. With <em>cmake</em>, you can end up with a long string of arguments in order to setup the build you want. With <em>cmake-gui</em>, you set all of these build options within the user interface instead, and this is how we will proceed in the instructions that follow.</p>
<h2><a class="anchor" id="build-tree"></a>
Setup a New Graphics Build Tree</h2>
<p>Here's a complete annotated list of steps to setup a new build tree for creating graphics programs. In truth, you don't need to create this entire build tree strucutre just to work with MinGfx, but this is good practice, and a good guide for students.</p>
<h3>1. Create a Linux-Style Directory Tree</h3>
<p>Libraries will get installed to a lib/ directory. Include files will go in include/, executables in bin/, and we'll put the source we are developing inside dev/.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir -p /Users/keefe/courses/csci4611/sw</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd /Users/courses/csci4611/sw</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;mkdir lib</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;mkdir include</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;mkdir bin</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;mkdir dev</div>
</div><!-- fragment --><h3>2. Download the MinGfx Project</h3>
<p>To download use: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd dev</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;git clone http://github.com/ivlab/MinGfx</div>
</div><!-- fragment --><h3>3. Create an Initial CMake Build Configuration</h3>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd MinGfx</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mkdir build</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cd build</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;cmake-gui ..</div>
</div><!-- fragment --><p>Press the 'Configure' button. Then, select the Generator you would like to use from the list provided (e.g., Xcode, Visual Studio, Unix Makefiles). Click Done.</p>
<p>Wait for CMake to do an initial configuration. This will populate an initial list of CMake and MinGfx build options. Each time you run configure, <em>cmake-gui</em> will display any new configuration options highlighted in <em>red</em>. So, do not be alarmed when the whole options window turns red during this first configure operation &ndash; that is normal behavior since at this point, all of the options are new.</p>
<p>Do you see an error in the CMake output window? If so, don't worry about this yet, we'll come back to it in a minute.</p>
<h3>4. Set the CMAKE_INSTALL_PREFIX Variable to the Root of Your Directory Tree</h3>
<p>Now, using cmake-gui, scroll through the table of variables until you find the one named CMAKE_INSTALL_PREFIX. Click on it and edit its value to point to the root of the directory tree you created in Step 1. The root for the example tree used in Step 1 would be /Users/keefe/courses/csci4611/sw. In other words, the root is the last directory before you get to lib, include, bin, and dev.</p>
<p>Once you make this change, you can press the Configure button again. It doesn't hurt to press Configure multiple times. You need to do it at least once after every change you make. Notice how the variables highlighted in red go away when you do this because they are no longer new options &ndash; cmake knows that you have already had a chance to see them once.</p>
<h3>5. If Needed, Set AUTOBUILD_NANOGUI to ON and Build Dependencies</h3>
<p>Now, take a look at the output window at the bottom of cmake-gui. If you see the following error there, then we'll address that next. If not, then nanogui must already be installed on your system, and you can skip to step 6. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;TODO: INSERT NANOGUI ERROR PRINTOUT</div>
</div><!-- fragment --><p> This error tells us that cmake could not find the nanogui library pre-installed on our system. Luckily, MinGfx includes support for downloading, building, and installing nanogui for you using the AUTOBUILD_NANOGUI feature.</p>
<p>Scroll through the list of CMake variables again until you find AUTOBUILD_NANOGUI and click on the checkbox next to it to turn it on. Now, click Configure again. This time the configure step will take a while, perhaps 5 minutes, to run because it will be downloading, building, and installing nanogui and all of its dependencies.</p>
<p>This step should finish without an error. If you do see an error and you are working with this as part of a UMN course, you may need to stop now and ask for help from a TA or on the class forum &ndash; perhaps there is something we haven't planned for in the particular setup of your computer.</p>
<h3>6. Generate the Build System / Project Files</h3>
<p>Finally, you are ready to press the Generate button. This is the step that will actually generate the Unix Makefiles, Visual Studio Solution File, or Xcode Project File needed to build MinGfx.</p>
<h3>7. Build MinGfx with the Specified Options</h3>
<p>Click Open Project if you generated project files for an IDE, or if you generated Unix Makefiles return to your shell and the build directory. Now, build the project as you normally would in these enviornments.</p>
<p>For Xcode or Visual Studio <code>click the triangle button</code>.</p>
<p>For Unix Makefiles run <code>make</code>.</p>
<h3>8. Run a Test Program</h3>
<p>From within the build directory, you can try running:</p>
<p><code>tests/mingfx-blankwindow</code></p>
<p>or</p>
<p><code>tests/mingfx-gui-plus-opengl</code></p>
<h3>9. Install the Library to your Directory Tree</h3>
<p>For Xcode or Visual Studio <code>change the build type to INSTALL or install</code> then <code>click the triangle button</code>.</p>
<p>For Unix Makefiles run <code>make install</code>.</p>
<p>To see if it worked take a look in the lib, include, and bin directories within the root of the tree you setup in Step 1. You should see the test programs inside bin/ and folders for MinVR-1.0 inside lib/ and include/.</p>
<h2><a class="anchor" id="example"></a>
Create Your Own Graphics Program</h2>
<p><em>Prereq:</em> Before getting started, make sure you have installed MinGfx, going all the way through the 9th step above.</p>
<p>The project in the MinGfx/example folder is an example of a stand-alone project that uses a separate cmake build system. This means we can copy it and move it out of the MinGfx source tree to serve as a starting point for your own project. Let's do that now.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd /Users/courses/csci4611/sw/dev  (or wherever you put your dev directory)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cp -r MinGfx/example/ mingfx-example</div>
</div><!-- fragment --><p>Now, before we build the example, we need to make sure it knows where to find MinGfx. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd mingfx-example</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;open up the CMakeLists.txt file in your favorite text editor</div>
</div><!-- fragment --><p>Near the top of the file, find the following lines </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# !!!!!!!!!!!!! EDIT THE FOLLOWING LINE AS NEEDED !!!!!!!!!!!!! </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;list(APPEND CMAKE_PREFIX_PATH ${CMAKE_CURRENT_SOURCE_DIR}/../build/install ../../..)</div>
</div><!-- fragment --><p> and add a path to the end of the list to point to the ROOT of your directory tree, for example: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# !!!!!!!!!!!!! EDIT THE FOLLOWING LINE AS NEEDED !!!!!!!!!!!!! </div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;list(APPEND CMAKE_PREFIX_PATH ${CMAKE_CURRENT_SOURCE_DIR}/../build/install ../../.. /Users/keefe/courses/cs4611/sw)</div>
</div><!-- fragment --><p>Now, we're ready to build this example using the same cmake idiom as before: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir build</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd build</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cmake-gui ..</div>
</div><!-- fragment --><p> Then, click <em>Configure</em>. If you want to install this example program, you may now edit the CMAKE_INSTALL_PREFIX as before and rerun <em>Configure</em>. It should not be necessary to change any of the other cmake variables for this example program.</p>
<p>Next, click <em>Generate</em> to produce project files for your IDE or makefiles.</p>
<p>Next, build the example program within your IDE or by running <code>make</code>.</p>
<p>Finally, you can run your first example graphics program with the command: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./mingfx-example</div>
</div><!-- fragment --><p>You can change the name of the executable, add more header and source files to the project and make other changes to the build process by editing the CMakeLists.txt file, but remember that after each change, you must run CMake's <em>Configure</em> and <em>Generate</em> steps again.</p>
<p>To reiterate the point above, if you are using an IDE, it is important to remember to add new files to your project by editing the CMakeLists.txt file NOT by using File-&gt;Add To Project.. or whatever option is provided inside your IDE. Since we using CMake to generate the IDE's project files, and we may want to switch to a different IDE or to Makefiles in the future, the CMakeLists.txt file needs to be treated as the master record of all of the build settings. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
