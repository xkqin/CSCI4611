<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>MinGfx Toolkit: mingfx::UniCam Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MinGfx Toolkit
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A minimal library for writing cross-platform (Windows, OSX, linux) graphics programs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemingfx.html">mingfx</a></li><li class="navelem"><a class="el" href="classmingfx_1_1_uni_cam.html">UniCam</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmingfx_1_1_uni_cam-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mingfx::UniCam Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This implements a user interface for controlling the camera with the mouse. </p>
<p>It is a special interface inspired by the "Unicam" technique developed by Zeleznik et al.</p>
<p>The key feature is that this interface makes it possible to control camera pan, dolly, and rotation with only a single mouse button. That is quite useful because it leaves the other mouse buttons free for pointing, sketching, or other interaction techniques.</p>
<p>The only downside of this technique is that it can take some time to learn. In order to enjoy it, you will need to read these brief instructions on how to Pan, Dolly, Rotate, and Spin:</p>
<ul>
<li>Pan: Click and drag horizontally with the mouse. Once you make an initial horizontal movement you can than pan up and down as well, but the key to entering pan mode is to start with a horizontal movement.</li>
<li>Dolly: Click and drag vertically with the mouse. The initial movement must be vertical. If you click on some object in the scene, then the speed of dollying is set so that the object will come all the up to the camera lens if you drag the mouse to the bottom of the screen.</li>
<li>Rotate: Start with a quick click and release to set the center of rotation. This is most useful if you click on some object in the scene. You will see a black dot appear to mark the center of rotation. If you click on the background then a center of rotation will be selected for you. It will be a point straight ahead and at a depth 4.0 units away. The depth can be adjusted for your application with <a class="el" href="classmingfx_1_1_uni_cam.html#a71e0351ac19a18b9c02215a60dc51068" title="This sets the depth of the center of rotation for the case when the user&#39;s click does not intersect a...">set_default_depth()</a>. Once your center of rotation is established, move your mouse away a bit and then click and drag to do a trackball rotatation of the scene around this point. Come to a stop before letting go of the mouse button in order to avoid entering the spin state!</li>
<li>Spin: For some fun, try "throwing" the scene so that it continues to rotate even after you let go. To do this, start a rotation and then let go of the mouse button while your mouse is still moving. To stop spinning just click and release the mouse once to "catch" the scene.</li>
</ul>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="comment">// Create a global or member variable in your MyGraphicsApp class:</span></div>
<div class="line"><a class="code" href="classmingfx_1_1_uni_cam.html#a6e7771961011f573b2e2249f602b2d2e">UniCam</a> unicam_;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> MyGraphicsApp::OnLeftMouseDown(<span class="keyword">const</span> Point2 &amp;pos) {</div>
<div class="line">    Point2 mouse_xy = PixelsToNormalizedDeviceCoords(pos);</div>
<div class="line">    <span class="keywordtype">float</span> mouse_z = ReadZValueAtPixel(pos);</div>
<div class="line">    unicam_.OnButtonDown(mouse_xy, mouse_z);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> MyGraphicsApp::OnLeftMouseDrag(<span class="keyword">const</span> Point2 &amp;pos, <span class="keyword">const</span> Vector2 &amp;delta) {</div>
<div class="line">    Point2 mouse_xy = PixelsToNormalizedDeviceCoords(pos);</div>
<div class="line">    unicam_.OnDrag(mouse_xy);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> MyGraphicsApp::OnLeftMouseUp(<span class="keyword">const</span> Point2 &amp;pos) {</div>
<div class="line">    Point2 mouse_xy = PixelsToNormalizedDeviceCoords(pos);</div>
<div class="line">    unicam_.OnButtonUp(mouse_xy);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> MyGraphicsApp::InitOpenGL() {</div>
<div class="line">    projMatrix_ = Matrix4::perspective(30, aspect_ratio(), 1, 20);</div>
<div class="line">    unicam_.set_view_matrix(Matrix4::lookAt(Point3(2.5,1,2.5), Point3(0,0,0), Vector3(0,1,0)););</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> MyGraphicsApp::DrawOpenGL() {</div>
<div class="line">    <span class="comment">// draw your scene using the view matrix from UniCam</span></div>
<div class="line">    Matrix4 proj_matrix = <a class="code" href="classmingfx_1_1_matrix4.html#a4b8bea805a162fbb267bea63c0a7fe5c">Matrix4::Perspective</a>(60, aspect_ratio(), 0.001, 10);;</div>
<div class="line">    Matrix4 view_matrix = uniCam.view_matrix();</div>
<div class="line">    Matrix4 model_matrix = Matrix4::RotateY(to_radians(45.0));</div>
<div class="line">    quickShapes.DrawCube(model_matrix, view_matirx, proj_matrix, Color(1,1,1));</div>
<div class="line"></div>
<div class="line">    <span class="comment">// tell unicam to draw itself (i.e., the small sphere that marks the center of</span></div>
<div class="line">    <span class="comment">// rotation when in rotation mode)</span></div>
<div class="line">    unicam_.Draw(proj_matrix);</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="unicam_8h_source.html#l00105">105</a> of file <a class="el" href="unicam_8h_source.html">unicam.h</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="unicam_8h_source.html">unicam.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6e7771961011f573b2e2249f602b2d2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#a6e7771961011f573b2e2249f602b2d2e">UniCam</a> ()</td></tr>
<tr class="memdesc:a6e7771961011f573b2e2249f602b2d2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classmingfx_1_1_uni_cam.html" title="This implements a user interface for controlling the camera with the mouse. ">UniCam</a> object with an initial view matrix = identity.  <a href="#a6e7771961011f573b2e2249f602b2d2e">More...</a><br /></td></tr>
<tr class="separator:a6e7771961011f573b2e2249f602b2d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af507e639c4bceb4c79e21a6f80c48d07"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#af507e639c4bceb4c79e21a6f80c48d07">UniCam</a> (const <a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a> &amp;initialViewMatrix)</td></tr>
<tr class="memdesc:af507e639c4bceb4c79e21a6f80c48d07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="classmingfx_1_1_uni_cam.html" title="This implements a user interface for controlling the camera with the mouse. ">UniCam</a> object with the supplied initial view matrix.  <a href="#af507e639c4bceb4c79e21a6f80c48d07">More...</a><br /></td></tr>
<tr class="separator:af507e639c4bceb4c79e21a6f80c48d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af98022627bcb52dbf54779cfaeb6ff7e"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#af98022627bcb52dbf54779cfaeb6ff7e">~UniCam</a> ()</td></tr>
<tr class="separator:af98022627bcb52dbf54779cfaeb6ff7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85afba6e8792636f3c6ba2433db1c52f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#a85afba6e8792636f3c6ba2433db1c52f">OnButtonDown</a> (const <a class="el" href="classmingfx_1_1_point2.html">Point2</a> &amp;normalizedMousePos, float mouseZ)</td></tr>
<tr class="memdesc:a85afba6e8792636f3c6ba2433db1c52f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach this to whatever mouse button you wish, for example, call this from within <a class="el" href="classmingfx_1_1_graphics_app.html#a903f94b82cc10f32039ff3f2ba368a9c" title="If the mouse button was pressed down since the last frame, then this function will be called to notif...">GraphicsApp::OnRightMouseDown()</a>. If your mousePos is reported in pixels, you will need to convert it to normalized device coordinates before passing it on to this routine. The depth buffer value for the pixel under the mouse is also needed. If you are using <a class="el" href="classmingfx_1_1_graphics_app.html" title="This is the main application base class for the MinGfx Toolkit. ">GraphicsApp</a>, you can access both of these as follows: </p><div class="fragment"><div class="line">Point2 mouse_xy = PixelsToNormalizedDeviceCoords(mouse_in_pixels);</div>
<div class="line"><span class="keywordtype">float</span> mouse_z = ReadZValueAtPixel(mouse_in_pixels);</div>
<div class="line">uniCam.OnButtonDown(mouse_xy, mouse_z);</div>
</div><!-- fragment --><p>.  <a href="#a85afba6e8792636f3c6ba2433db1c52f">More...</a><br /></td></tr>
<tr class="separator:a85afba6e8792636f3c6ba2433db1c52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f1b41fcf53ea78ca2b3640902c5bbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#a33f1b41fcf53ea78ca2b3640902c5bbe">OnDrag</a> (const <a class="el" href="classmingfx_1_1_point2.html">Point2</a> &amp;normalizedMousePos)</td></tr>
<tr class="memdesc:a33f1b41fcf53ea78ca2b3640902c5bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach this to the corresponding mouse move event, for example, call this from within <a class="el" href="classmingfx_1_1_graphics_app.html#a00ad5039af2f428a08fe45751a9731c7" title="If the mouse button is held down and the mouse has moved in the past frame then this function will be...">GraphicsApp::OnRightMouseDrag()</a>. If your mousePos is reported in pixels, you will need to convert it to normalized device coordinates before passing it on to this routine. Within <a class="el" href="classmingfx_1_1_graphics_app.html" title="This is the main application base class for the MinGfx Toolkit. ">GraphicsApp</a>, use: </p><div class="fragment"><div class="line">Point2 mouse_xy = PixelsToNormalizedDeviceCoords(mouse_in_pixels);</div>
<div class="line">uniCam.OnDrag(mouse_xy);</div>
</div><!-- fragment --><p>.  <a href="#a33f1b41fcf53ea78ca2b3640902c5bbe">More...</a><br /></td></tr>
<tr class="separator:a33f1b41fcf53ea78ca2b3640902c5bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a9431dc3943c8dc485994d88ce2a58a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#a2a9431dc3943c8dc485994d88ce2a58a">OnButtonUp</a> (const <a class="el" href="classmingfx_1_1_point2.html">Point2</a> &amp;normalizedMousePos)</td></tr>
<tr class="memdesc:a2a9431dc3943c8dc485994d88ce2a58a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach this to the corresponding button up event, for example, call this from within <a class="el" href="classmingfx_1_1_graphics_app.html#ad7c33791c44afc87ce789874f3002ca3" title="If the mouse button was released since the last frame, then this function will be called to notify yo...">GraphicsApp::OnRightMouseUp()</a>. If your mousePos is reported in pixels, you will need to convert it to normalized device coordinates before passing it on to this routine. Within <a class="el" href="classmingfx_1_1_graphics_app.html" title="This is the main application base class for the MinGfx Toolkit. ">GraphicsApp</a>, use: </p><div class="fragment"><div class="line">Point2 mouse_xy = PixelsToNormalizedDeviceCoords(mouse_in_pixels);</div>
<div class="line">uniCam.OnButtonUp(mouse_xy);</div>
</div><!-- fragment --><p>.  <a href="#a2a9431dc3943c8dc485994d88ce2a58a">More...</a><br /></td></tr>
<tr class="separator:a2a9431dc3943c8dc485994d88ce2a58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab253d966af52ac277ac51194745085c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#aab253d966af52ac277ac51194745085c">AdvanceAnimation</a> (double dt)</td></tr>
<tr class="memdesc:aab253d966af52ac277ac51194745085c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach this to a callback that can be used to control animation. Within <a class="el" href="classmingfx_1_1_graphics_app.html#a9e2b4cd7eeabe1ace9d5e9220349fbaa" title="Called once per frame. ">GraphicsApp::UpdateSimulation()</a>, use: </p><div class="fragment"><div class="line">uniCam.AdvanceAnimation(dt);</div>
</div><!-- fragment --><p>.  <a href="#aab253d966af52ac277ac51194745085c">More...</a><br /></td></tr>
<tr class="separator:aab253d966af52ac277ac51194745085c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45f3c80c205a539baeb4f1b8787777d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#ae45f3c80c205a539baeb4f1b8787777d">Draw</a> (const <a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a> &amp;projectionMatrix)</td></tr>
<tr class="memdesc:ae45f3c80c205a539baeb4f1b8787777d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finally, attach this to your draw callback routine. Within <a class="el" href="classmingfx_1_1_graphics_app.html#a5a858fd10651f7617491f37b49dbf8ca" title="Override this to draw graphics using raw OpenGL 2D or 3D graphics calls. ">GraphicsApp::DrawUsingOpenGL()</a>, use: </p><div class="fragment"><div class="line">uniCam.Draw(projMatrix);</div>
</div><!-- fragment --><p>.  <a href="#ae45f3c80c205a539baeb4f1b8787777d">More...</a><br /></td></tr>
<tr class="separator:ae45f3c80c205a539baeb4f1b8787777d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e7276f9390ec57ca577092c99d6ca3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#af7e7276f9390ec57ca577092c99d6ca3">view_matrix</a> ()</td></tr>
<tr class="memdesc:af7e7276f9390ec57ca577092c99d6ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the camera view matrix created by the <a class="el" href="classmingfx_1_1_uni_cam.html" title="This implements a user interface for controlling the camera with the mouse. ">UniCam</a> interactions via this method and use it to draw the geometry in your scence. For example, within <a class="el" href="classmingfx_1_1_graphics_app.html#a5a858fd10651f7617491f37b49dbf8ca" title="Override this to draw graphics using raw OpenGL 2D or 3D graphics calls. ">GraphicsApp::DrawUsingOpenGL()</a>, you might have: </p><div class="fragment"><div class="line">Matrix4 P = <a class="code" href="classmingfx_1_1_matrix4.html#a4b8bea805a162fbb267bea63c0a7fe5c">Matrix4::Perspective</a>(30, aspect_ratio(), 1, 20);</div>
<div class="line">Matrix4 V = unicam.view_matrix();</div>
<div class="line">Matrix4 M = Matrix4::RotateY(<a class="code" href="classmingfx_1_1_gfx_math.html#a1336de2695bc3bb750b23fb0ea211637">GfxMath::ToRadians</a>(45.0));</div>
<div class="line">quick_shapes.DrawCube(M, V, P, Color(1,1,1));</div>
</div><!-- fragment --><p>.  <a href="#af7e7276f9390ec57ca577092c99d6ca3">More...</a><br /></td></tr>
<tr class="separator:af7e7276f9390ec57ca577092c99d6ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65d5735b4b3a8e38f2b30df4133cadd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmingfx_1_1_point3.html">Point3</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#a65d5735b4b3a8e38f2b30df4133cadd2">eye</a> ()</td></tr>
<tr class="memdesc:a65d5735b4b3a8e38f2b30df4133cadd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the "eye" point (i.e., focal point) of the camera in world space coordinates.  <a href="#a65d5735b4b3a8e38f2b30df4133cadd2">More...</a><br /></td></tr>
<tr class="separator:a65d5735b4b3a8e38f2b30df4133cadd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8363576bf0f85c74d80ced697bd73d40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmingfx_1_1_vector3.html">Vector3</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#a8363576bf0f85c74d80ced697bd73d40">look</a> ()</td></tr>
<tr class="memdesc:a8363576bf0f85c74d80ced697bd73d40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the look direction (i.e., -Z axis of the camera matrix) in world space coordinates.  <a href="#a8363576bf0f85c74d80ced697bd73d40">More...</a><br /></td></tr>
<tr class="separator:a8363576bf0f85c74d80ced697bd73d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b17bab82595ca468a3c638512011e5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#a6b17bab82595ca468a3c638512011e5b">set_view_matrix</a> (<a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a> viewMatrix)</td></tr>
<tr class="memdesc:a6b17bab82595ca468a3c638512011e5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is not required, but you may use this if you wish to set an initial view matrix or reset the view matrix.  <a href="#a6b17bab82595ca468a3c638512011e5b">More...</a><br /></td></tr>
<tr class="separator:a6b17bab82595ca468a3c638512011e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e0351ac19a18b9c02215a60dc51068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmingfx_1_1_uni_cam.html#a71e0351ac19a18b9c02215a60dc51068">set_default_depth</a> (float d)</td></tr>
<tr class="memdesc:a71e0351ac19a18b9c02215a60dc51068"><td class="mdescLeft">&#160;</td><td class="mdescRight">This sets the depth of the center of rotation for the case when the user's click does not intersect any geometry. It defaults to 4 units, but the right value to use depends very much on the current scene. For example, you could set a very good value by calculating the current centroid of your scene and the finding the depth of this point (the distance along the look vector) relative to the camera.  <a href="#a71e0351ac19a18b9c02215a60dc51068">More...</a><br /></td></tr>
<tr class="separator:a71e0351ac19a18b9c02215a60dc51068"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6e7771961011f573b2e2249f602b2d2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mingfx::UniCam::UniCam </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classmingfx_1_1_uni_cam.html" title="This implements a user interface for controlling the camera with the mouse. ">UniCam</a> object with an initial view matrix = identity. </p>

</div>
</div>
<a class="anchor" id="af507e639c4bceb4c79e21a6f80c48d07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mingfx::UniCam::UniCam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a> &amp;&#160;</td>
          <td class="paramname"><em>initialViewMatrix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="classmingfx_1_1_uni_cam.html" title="This implements a user interface for controlling the camera with the mouse. ">UniCam</a> object with the supplied initial view matrix. </p>

</div>
</div>
<a class="anchor" id="af98022627bcb52dbf54779cfaeb6ff7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual mingfx::UniCam::~UniCam </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aab253d966af52ac277ac51194745085c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mingfx::UniCam::AdvanceAnimation </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach this to a callback that can be used to control animation. Within <a class="el" href="classmingfx_1_1_graphics_app.html#a9e2b4cd7eeabe1ace9d5e9220349fbaa" title="Called once per frame. ">GraphicsApp::UpdateSimulation()</a>, use: </p><div class="fragment"><div class="line">uniCam.AdvanceAnimation(dt);</div>
</div><!-- fragment --><p>. </p>

</div>
</div>
<a class="anchor" id="ae45f3c80c205a539baeb4f1b8787777d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mingfx::UniCam::Draw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a> &amp;&#160;</td>
          <td class="paramname"><em>projectionMatrix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finally, attach this to your draw callback routine. Within <a class="el" href="classmingfx_1_1_graphics_app.html#a5a858fd10651f7617491f37b49dbf8ca" title="Override this to draw graphics using raw OpenGL 2D or 3D graphics calls. ">GraphicsApp::DrawUsingOpenGL()</a>, use: </p><div class="fragment"><div class="line">uniCam.Draw(projMatrix);</div>
</div><!-- fragment --><p>. </p>

</div>
</div>
<a class="anchor" id="a65d5735b4b3a8e38f2b30df4133cadd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmingfx_1_1_point3.html">Point3</a> mingfx::UniCam::eye </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the "eye" point (i.e., focal point) of the camera in world space coordinates. </p>

</div>
</div>
<a class="anchor" id="a8363576bf0f85c74d80ced697bd73d40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmingfx_1_1_vector3.html">Vector3</a> mingfx::UniCam::look </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the look direction (i.e., -Z axis of the camera matrix) in world space coordinates. </p>

</div>
</div>
<a class="anchor" id="a85afba6e8792636f3c6ba2433db1c52f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mingfx::UniCam::OnButtonDown </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmingfx_1_1_point2.html">Point2</a> &amp;&#160;</td>
          <td class="paramname"><em>normalizedMousePos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mouseZ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach this to whatever mouse button you wish, for example, call this from within <a class="el" href="classmingfx_1_1_graphics_app.html#a903f94b82cc10f32039ff3f2ba368a9c" title="If the mouse button was pressed down since the last frame, then this function will be called to notif...">GraphicsApp::OnRightMouseDown()</a>. If your mousePos is reported in pixels, you will need to convert it to normalized device coordinates before passing it on to this routine. The depth buffer value for the pixel under the mouse is also needed. If you are using <a class="el" href="classmingfx_1_1_graphics_app.html" title="This is the main application base class for the MinGfx Toolkit. ">GraphicsApp</a>, you can access both of these as follows: </p><div class="fragment"><div class="line">Point2 mouse_xy = PixelsToNormalizedDeviceCoords(mouse_in_pixels);</div>
<div class="line"><span class="keywordtype">float</span> mouse_z = ReadZValueAtPixel(mouse_in_pixels);</div>
<div class="line">uniCam.OnButtonDown(mouse_xy, mouse_z);</div>
</div><!-- fragment --><p>. </p>

</div>
</div>
<a class="anchor" id="a2a9431dc3943c8dc485994d88ce2a58a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mingfx::UniCam::OnButtonUp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmingfx_1_1_point2.html">Point2</a> &amp;&#160;</td>
          <td class="paramname"><em>normalizedMousePos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach this to the corresponding button up event, for example, call this from within <a class="el" href="classmingfx_1_1_graphics_app.html#ad7c33791c44afc87ce789874f3002ca3" title="If the mouse button was released since the last frame, then this function will be called to notify yo...">GraphicsApp::OnRightMouseUp()</a>. If your mousePos is reported in pixels, you will need to convert it to normalized device coordinates before passing it on to this routine. Within <a class="el" href="classmingfx_1_1_graphics_app.html" title="This is the main application base class for the MinGfx Toolkit. ">GraphicsApp</a>, use: </p><div class="fragment"><div class="line">Point2 mouse_xy = PixelsToNormalizedDeviceCoords(mouse_in_pixels);</div>
<div class="line">uniCam.OnButtonUp(mouse_xy);</div>
</div><!-- fragment --><p>. </p>

</div>
</div>
<a class="anchor" id="a33f1b41fcf53ea78ca2b3640902c5bbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mingfx::UniCam::OnDrag </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmingfx_1_1_point2.html">Point2</a> &amp;&#160;</td>
          <td class="paramname"><em>normalizedMousePos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach this to the corresponding mouse move event, for example, call this from within <a class="el" href="classmingfx_1_1_graphics_app.html#a00ad5039af2f428a08fe45751a9731c7" title="If the mouse button is held down and the mouse has moved in the past frame then this function will be...">GraphicsApp::OnRightMouseDrag()</a>. If your mousePos is reported in pixels, you will need to convert it to normalized device coordinates before passing it on to this routine. Within <a class="el" href="classmingfx_1_1_graphics_app.html" title="This is the main application base class for the MinGfx Toolkit. ">GraphicsApp</a>, use: </p><div class="fragment"><div class="line">Point2 mouse_xy = PixelsToNormalizedDeviceCoords(mouse_in_pixels);</div>
<div class="line">uniCam.OnDrag(mouse_xy);</div>
</div><!-- fragment --><p>. </p>

</div>
</div>
<a class="anchor" id="a71e0351ac19a18b9c02215a60dc51068"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mingfx::UniCam::set_default_depth </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This sets the depth of the center of rotation for the case when the user's click does not intersect any geometry. It defaults to 4 units, but the right value to use depends very much on the current scene. For example, you could set a very good value by calculating the current centroid of your scene and the finding the depth of this point (the distance along the look vector) relative to the camera. </p>

</div>
</div>
<a class="anchor" id="a6b17bab82595ca468a3c638512011e5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mingfx::UniCam::set_view_matrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a>&#160;</td>
          <td class="paramname"><em>viewMatrix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is not required, but you may use this if you wish to set an initial view matrix or reset the view matrix. </p>

</div>
</div>
<a class="anchor" id="af7e7276f9390ec57ca577092c99d6ca3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmingfx_1_1_matrix4.html">Matrix4</a> mingfx::UniCam::view_matrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Access the camera view matrix created by the <a class="el" href="classmingfx_1_1_uni_cam.html" title="This implements a user interface for controlling the camera with the mouse. ">UniCam</a> interactions via this method and use it to draw the geometry in your scence. For example, within <a class="el" href="classmingfx_1_1_graphics_app.html#a5a858fd10651f7617491f37b49dbf8ca" title="Override this to draw graphics using raw OpenGL 2D or 3D graphics calls. ">GraphicsApp::DrawUsingOpenGL()</a>, you might have: </p><div class="fragment"><div class="line">Matrix4 P = <a class="code" href="classmingfx_1_1_matrix4.html#a4b8bea805a162fbb267bea63c0a7fe5c">Matrix4::Perspective</a>(30, aspect_ratio(), 1, 20);</div>
<div class="line">Matrix4 V = unicam.view_matrix();</div>
<div class="line">Matrix4 M = Matrix4::RotateY(<a class="code" href="classmingfx_1_1_gfx_math.html#a1336de2695bc3bb750b23fb0ea211637">GfxMath::ToRadians</a>(45.0));</div>
<div class="line">quick_shapes.DrawCube(M, V, P, Color(1,1,1));</div>
</div><!-- fragment --><p>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="unicam_8h_source.html">unicam.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
